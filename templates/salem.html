<!DOCTYPE html>
<html ng-app="salemApp">
<head>
	<title>Salem</title>
	<link rel="stylesheet" href="{{ url_for('static', filename='css/salem.css') }}">
	<script type="text/javascript" src="{{ url_for('static', filename='js/angular.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/salemApp.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/filters.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/services.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/directives.js') }}"></script>
</head>
<body>
	<div ng-controller="mainCtrl">
		<div class="role-selector">
			<div class="role-selector--button-row">
				<div ng-class="'role-selector--button ' +
					'role-selector--button__triple ' +
					(val == held ? 'role-selector--button__held ' : '') +
					'role-selector--button__' +
					(val == teamRest ? 'pressed role-text--' + val.toLowerCase() : 'unpressed')"
					ng-repeat="val in teamRestValues"
					ng-click="updateTeamRest(val)">
					{[val]}
				</div>
			</div>
			<div class="role-selector--button-row">
				<div ng-class="'role-selector--button ' +
					'role-selector--button__double ' +
					'role-selector--button__' +
					(val == specRest ? 'pressed' : 'unpressed')"
					ng-repeat="val in specRestValues"
					ng-click="updateSpecRest(val)">
					{[val]}
				</div>
			</div>
			<div class="role-selector--roles">
				<ul ng-repeat="persona in personas.values()|iterToArray|specOnly:specRest|teamOnly:teamRest"
					ng-class="(persona == selectedRole) ? 'selected' : ''"
					ng-click="selectRole(persona)">
						<a target="_blank" role=""></a>
				</ul>
			</div>
		</div>
	</div>
	<div ng-controller="populationCtrl">
		<select name=populationSelector ng-model="gameMode"
			ng-options="mode for mode in populations.keys()|iterToArray">
			<option disabled="true"></option>
		</select>
		<ul>
			<li ng-repeat="persona in populations.get(gameMode) track by $index + persona.id">
				<div role="true"></div>
			</li>
		</ul>
	</div>
</body>
</html>

